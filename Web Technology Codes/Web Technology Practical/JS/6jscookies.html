<html>

<head>
    <title>JS Cookies</title>
</head>

<style>
    body {
        margin: 20px;
    }
</style>

<body>
    <h2>JS6: JS Cookies</h2>
    Name: <input type="text" name="name" id="name">
    <button onclick="setCookie()" value="">Set Cookie</button>
    <button onclick="getCookie()">Get Cookie</button>
    <button onclick="deleteCookie()">Delete Cookie</button>
    <br>
    <h3>Cookie Status Displayed Here:</h3>
    <p id="cookiestatus"></p>
</body>

<script>
    let output = document.getElementById('cookiestatus');
    function setCookie() {
        let name = document.getElementById("name");
        if (name.value == "") {
            output.innerHTML += "Please insert a name to set cookie.<br>";
        } else {
            // get current time and add 30days of expiry time
            let d = new Date();
            d.setTime(d.getTime() + 30 * 24 * 60 * 60 * 1000);
            document.cookie = "name=" + name.value + ";expires=" + d + "path='/'";
            output.innerHTML += "Cookie is set as " + document.cookie + ".<br>";
        }
    }

    function deleteCookie() {
        let d = new Date();
        d.setTime(d.getTime() - 30 * 24 * 60 * 60 * 1000);
        document.cookie = "name=;expires=" + d + ";path='/';";
        output.innerHTML += "Cookie is deleted<br>";
    }

    function getCookie() {
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(";");
        let cname = ca[0];
        let name = cname.substring("name=".length, cname.length);
        if (name.length != 0) {
            output.innerHTML += "Hello " + name + ".<br>";
        } else {
            output.innerHTML += "Please set cookie to display.<br>";
        }
    }
</script>

</html>